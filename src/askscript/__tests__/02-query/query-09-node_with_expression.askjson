[
  "ask",
  {
    "args": [
      "list",
      null
    ]
  },
  [
    "query",
    {},
    [
      "node",
      {
        "name": "friends",
        "value": [
          "call",
          {
            "name": "where",
            "args": [
              "list",
              null,
              [
                "call",
                {
                  "name": "knex",
                  "args": [
                    "list",
                    null,
                    [
                      "ref",
                      {
                        "name": "friends"
                      }
                    ]
                  ]
                }
              ],
              [
                "code",
                {
                  "object": true
                },
                "email",
                "hi@example.com"
              ]
            ]
          }
        ]
      },
      [
        "node",
        {
          "name": "firstName",
          "value": [
            "ref",
            {
              "name": "firstName"
            }
          ]
        }
      ],
      [
        "node",
        {
          "name": "lastName",
          "value": [
            "ref",
            {
              "name": "lastName"
            }
          ]
        }
      ]
    ]
  ]
]